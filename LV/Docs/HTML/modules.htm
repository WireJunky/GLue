<!DOCTYPE HTML>
<html>
<head>
   <title>Getting started &gt; Modules</title>
   <meta name="generator" content="Help & Manual">
   <meta name="keywords" content="">
   <meta name="description" content="Modules">
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <meta http-equiv="X-UA-Compatible" content="IE=edge" />
   <link type="text/css" href="default.css" rel="stylesheet">
   <link type="text/css" href="custom.css" rel="stylesheet">
   <script type="text/javascript" src="nsh.js"></script>

<script type="text/javascript">   
// Toggle Toggler 

var toggleCount=false;
var switchState;

function toggleToggles() {

    if (!toggleCount) {
     toggleCount = true;
     HMToggleExpandAll(true);
     switchState = true;
     }
   
     else if (switchState) {
        HMToggleExpandAll(false);
        switchState = false;
        }
        
     else  {
        HMToggleExpandAll(true);
        switchState = true;
        } 
    }
</script>
   
<!-- non-scrolling headers for CHM and browser-based help, local styles-->
<style type="text/css" media="screen"> 
html, body { 
   margin:0; 
   padding:0; 
   overflow: hidden; 
   background: #FFFFFF; 
  }  

div#printheader { 
   display: none;
   }
   #idheader { 
      width:100%; 
      height:auto; 
      padding: 0; 
      margin: 0; 
} 
    #idheaderbg  {
    background: #6F6F6F; 
}
   #callout-table, #overview-table {display:block; position:relative; top:0; left:0;}
   #callout-icon {display:block; position:absolute; top:-11px; left:-11px;}
   #callout-icon-flag {display:block; position:absolute; top:-11px; left:-8px;}
   #callout-table a {text-decoration: none; color: blue;}
   #callout-table a:visited {text-decoration: none; color: blue;}
   #overview-table a {text-decoration: none; color: black;}
   #overview-table a:visited {text-decoration: none; color: black;}
   #callout-table a:hover, #overview-table a:hover {text-decoration: underline;}
   p.help-url { margin: 20px 0 5px 0; text-align: center; font-size: 80%; text-decoration: none }
   </style>
<!--[if lt IE 7]>
<style type="text/css">
  #idcontent {padding: 0px;} 
  #innerdiv {padding: 10px 5px 5px 10px ;} 
</style> 
<![endif]-->
<noscript>
<style type="text/css">
html, body { overflow: auto; }
</style> 
</noscript>
<style type="text/css" media="print">
span.f_Heading1 { color: black; }
#idheader, #printheader img { display:none; }
#printheader { display: block; margin-top: 20px; }
#idcontent { margin-top: 10px; }
</style>  
   <script type="text/javascript" src="jquery.js"></script>
   <script type="text/javascript" src="helpman_settings.js"></script>
   <script type="text/javascript" src="helpman_topicinit.js"></script>

   <script type="text/javascript">
     HMSyncTOC("index.html", "modules.htm");
   </script>
   <script type="text/javascript" src="highlight.js"></script>
   <script type="text/javascript">
     $(document).ready(function(){highlight();});
   </script>
</head>
<body>
<!--ZOOMSTOP-->

<div id="printheader"><h1 class="p_Heading1"><span class="f_Heading1">Modules</span></h1>
</div>
<div id="idheader">
<div id="idheaderbg">
<table width="100%" border="0" cellspacing="0" cellpadding="0" 
       style="margin: 0px; background: url(header_bg.jpg);">

  <tr valign="bottom">
    <td align="left" valign="bottom" class="topichead">
   <p class="crumbs" id="idnav"><b>Navigation:</b>&nbsp;
   
   <a href="getting_started.htm">Getting started</a>&nbsp;&gt;</p>
   <h1 class="p_Heading1"><span class="f_Heading1">Modules</span></h1>

    </td>
    <td align="right" width="120" valign="middle" class="topichead" id="idnav">
    
     <a href="script_execution.htm"
        onmouseover="document.images.prev.src='btn_prev_h.gif'" 
        onmouseout="document.images.prev.src='btn_prev_n.gif'"
        ><img name=prev src="btn_prev_n.gif" border=0 alt="Previous page"
        ></a><a href="getting_started.htm"
        onmouseover="document.images.main.src='btn_home_h.gif'" 
        onmouseout="document.images.main.src='btn_home_n.gif'"><img name=main src="btn_home_n.gif" border=0 alt="Return to chapter overview"
        ></a><a href="libraries.htm"
        onmouseover="document.images.next.src='btn_next_h.gif'" 
        onmouseout="document.images.next.src='btn_next_n.gif'"><img name=next src="btn_next_n.gif" border=0 alt="Next page"
        ></a>
    </td>
  </tr>
  <tr><td colspan="2" style="height: 3px; background: url(header_bg_shadow.gif)"></td></tr>
</table>
</div>

<!-- The following code displays Expand All/Collapse All links  below the header in topics containing toggles -->
  

</div>  

<div id="idcontent"><div id="innerdiv"> 
<!--ZOOMRESTART-->
<p><span style="font-size: 12pt; font-weight: bold;">Overview:</span></p>
<p>&nbsp;</p>
<p>What makes MLua different is that Lua scripts can call LabVIEW functions. To standardize the callback process, the LabVIEW functionality that can be called from Lua is bundled in so called 'MLua Modules'. A MLua Module is a LabVIEW VI with a specific connector pane that receives commands and data with the optional ability to return data. Being a normal LabVIEW VI, a MLua Module imposes no restrictions on debugging.</p>
<p>&nbsp;</p>
<p><span style="font-size: 12pt; font-weight: bold;">Creation:</span></p>
<p>&nbsp;</p>
<p>To create a new MLua module, open the <span style="font-style: italic;">File-&gt;New... </span>dialog from within LabVIEW. Browse to the highlighted entry shown below en press OK.</p>
<p>&nbsp;</p>
<p style="text-align: center;"><img src="modules_new_zoom80.png" width="680" height="502" alt="modules_new" style="border:none" /></p>
<p>&nbsp;</p>
<p><span style="font-size: 12pt; font-weight: bold;">Format:</span></p>
<p>&nbsp;</p>
<p>A empty MLua Module VI is shown below, the controls and indicators of importance are:</p>
<p>&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span style="font-weight: bold;">User Data: </span>Custom data provided when the module was first installed/registered.</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span style="font-weight: bold;">Call Data:</span> From Lua specifying what action to perform with the provided argument data.</p><p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="text-align: left; padding: 0px 0px 0px 13px; margin: 0px 0px 0px 24px;"><span style="font-size:10pt; font-family: 'Arial Unicode MS','Lucida Sans Unicode','Arial';color:#000000;display:inline-block;width:13px;margin-left:-13px">&#9679;</span><span style="font-weight: bold;">Return Data: </span>LabVIEW data to return to Lua.</p><p>&nbsp;</p>
<div style="text-align: center;"><div style="margin:0px auto 0px auto;width:760px;padding:0px 0px 0px 0px"><img src="modules_ex01_zoom60.png" width="760" height="343" style="border:none" alt="MLua Module VI" title="MLua Module VI" /><p style="text-align:center"><span class="f_ImageCaption">MLua Module VI</span></p></div></div>
<p style="text-align: center;">&nbsp;</p>
<p><span style="font-size: 12pt; font-weight: bold;">Usage:</span></p>
<p>&nbsp;</p>
<p>A basic example of how a module is used to interface with LabVIEW is detailed below.</p>
<p>&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">1. Create the MLua module </span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;">As previously explained, use the <span style="font-style: italic;">File-&gt;New... </span>dialog to create a new empty MLua module. </p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">2. Give the module a name</span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="width:24px">&nbsp;</span>The newly created module will have a unique name which functions as a 'namespace' that Lua can use when doing a<span style="font-weight: bold;"> </span>LabVIEW call.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<div style="margin: 0px 0px 0px 48px;"><div style="width:443px;padding:0px"><img src="modules_ex02.png" width="443" height="231" style="border:none" alt="Naming a MLua module" title="Naming a MLua module" /><p style="text-align:center"><span class="f_ImageCaption">Naming a MLua module</span></p></div></div>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">3. Add a command</span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;">For the module to be useful it needs to be able to execute commands. Commands are added to the module by adding cases to the internal case structure as shown below.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<div style="margin: 0px 0px 0px 48px;"><div style="width:444px;padding:0px"><img src="modules_ex03.png" width="444" height="225" style="border:none" alt="Adding a command to a MLua module" title="Adding a command to a MLua module" /><p style="text-align:center"><span class="f_ImageCaption">Adding a command to a MLua module</span></p></div></div>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">4. Install the module</span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;">For the module and its commands to be available to MLua it needs to be installed or registered during run-time. This is done using the <span style="font-style: italic;"><a href="install_module.htm" class="topiclink">Install Module</a></span> VI as shown below.</p>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<div style="margin: 0px 0px 0px 48px;"><div style="width:378px;padding:0px"><img src="modules_ex04.png" width="378" height="348" style="border:none" alt="Installing a module into a MLua instance" title="Installing a module into a MLua instance" /><p style="text-align:center"><span class="f_ImageCaption">Installing a module into a MLua instance</span></p></div></div>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 24px;"><span style="font-weight: bold;">5. Use the Module within Lua</span></p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<p style="margin: 0px 0px 0px 48px;">After the module is installed it can be called from within Lua, the figure below illustrates the process. The LabVIEW callback is performed from Lua using the <span style="font-style: italic;"><a href="lv_call.htm" class="topiclink">LV.Call()</a> </span>method.</p>
<p style="margin: 0px 0px 0px 24px;">&nbsp;</p>
<div style="margin: 0px 0px 0px 48px;"><div style="width:630px;padding:0px"><img src="modules_ex05.png" width="630" height="308" style="border:none" alt="Executing a module command" title="Executing a module command" /><p style="text-align:center"><span class="f_ImageCaption">Executing a module command</span></p></div></div>
<p style="margin: 0px 0px 0px 48px;">&nbsp;</p>

<!--ZOOMSTOP-->
</div></div>
<script type="text/javascript">

var lastSlashPos = document.URL.lastIndexOf("/") > document.URL.lastIndexOf("\\") ? document.URL.lastIndexOf("/") : document.URL.lastIndexOf("\\");
if( document.URL.substring(lastSlashPos + 1, lastSlashPos + 4).toLowerCase() != "~hh" )
{
 if (document.all) setTimeout(function() {nsrInit();},20); 
    else nsrInit();
 } 


</script>
</body>
</html>








